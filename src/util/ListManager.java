package util;

import java.util.List;

public class ListManager {

	public static void removeCopies(List<String> file, List<String> vul) {
		boolean[] exist = new boolean [file.size()];
		for(int i = 0; i < file.size(); i++) {
			exist[i] = false;
		}
		for(int i = 0; i < file.size(); i++) {
			boolean found = false;
			if(!exist[i]) {
				for(int j = 0; j < file.size(); j++) {
					if(i != j) {
						if(file.get(i).equals(file.get(j))) {
							found = true;
							exist[j] = true;
						}
					}
				}
				if(!found) {
					if(vul.get(i).equals(Const.VULNERABLE))
						vul.set(i, Const.V_NEVER_INVOKED);
					else
						vul.set(i, Const.M_NEVER_INVOKED);
				}
			}
		}
		for(int i = file.size(); i > 0; i--) {
			if(exist[i-1]) {
				file.remove(i-1);
				vul.remove(i-1);
			}
		}			
	}
	
	public static void modifyPaths(List<String> ls, String src) {
		if(!ls.isEmpty()) {
			for(int i=0; i<ls.size(); i++) {
				ls.set(i, ls.get(i).substring(src.length()+1, ls.get(i).length() - ".smali".length()));
				ls.set(i, ls.get(i).replaceAll("/", "."));
			}
		}
	}
}
