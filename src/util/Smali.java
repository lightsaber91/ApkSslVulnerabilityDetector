package util;

import java.io.File;
import java.util.List;

public class Smali {

	public static void getAllSmaliFileList(File directory, List<File> filelist) {
		File[] files = directory.listFiles();
		if (files != null) {
			for (int i = 0; i < files.length; i++) {
				String fileName = files[i].getName();
				if (files[i].isDirectory()) {
					getAllSmaliFileList(files[i], filelist); 
				} else if(fileName.endsWith(Const.SMALI)){ 
					filelist.add(files[i]);
				} else {
					continue;
				}
			}

		}
	}
	
	public static void getSmaliFileList(File directory, List<File> filelist) {
		File[] files = directory.listFiles();
		if (files != null) {
			for (int i = 0; i < files.length; i++) {
				String fileName = files[i].getName();
				if (files[i].isDirectory()) {
					getSmaliFileList(files[i], filelist); 
				} else if (fileName.contains(Const.TRUST_MANAGER)) { 
					filelist.add(files[i]);
				} else {
					continue;
				}
			}

		}
	}
	
	public static void removeTmpFile(List<File> filelist, File dir) {
		if(filelist != null) {
			for(File file : filelist) {
				file.delete();
			}
		}
		File[] files = dir.listFiles();
	    for(int i=0; i<files.length; i++) {
	    	removeTmpFile(null, files[i]);
	    }
	    dir.delete();
	}
	
}
